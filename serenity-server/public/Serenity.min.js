!function(){function a(a){a.state("clock",{url:"/clock",templateUrl:"modules/clock/clock-view.html",controller:"ClockController"})}angular.module("Serenity.Clock",[]).config(["$stateProvider",a])}(),function(){angular.module("Serenity.Filter",[])}(),function(){function a(a){a.state("countdown",{url:"/countdown",templateUrl:"modules/countdown/countdown-view.html",controller:"CountdownController"})}angular.module("Serenity.Countdown",[]).config(["$stateProvider",a])}(),function(){function a(a){a.state("splash",{url:"",templateUrl:"modules/splash/../splash/splash-view.html",controller:"SplashController"})}angular.module("Serenity.Splash",[]).config(["$stateProvider",a])}(),function(){function a(a){a.state("stopwatch",{url:"/stopwatch",templateUrl:"modules/stopwatch/stopwatch-view.html",controller:"StopwatchController"})}angular.module("Serenity.Stopwatch",[]).config(["$stateProvider",a])}(),function(){function a(a,b){function c(){a.clock=b.getClock(),a.toggleMilitaryTime=b.toggleMilitaryTime,a.toggleMilitaryDate=b.toggleMilitaryDate}c()}angular.module("Serenity.Clock").controller("ClockController",["$scope","ClockService",a])}(),function(){function a(a){function b(){e.currentTimestamp=new Date}function c(){d.toggleMilitaryTime(),d.toggleMilitaryDate(),e.updateInterval||(e.updateInterval=a(function(){b()},e.updateIntervalInMs))}var d=this,e={currentTimestamp:null,updateIntervalInMs:100,updateInterval:null,timeFormat:"",dateFormat:"",showingMilitaryTime:!0,showingMilitaryDate:!0};d.getClock=function(){return e},d.toggleMilitaryTime=function(){e.showingMilitaryTime?(e.showingMilitaryTime=!1,e.timeFormat="hh:mm:ss a"):(e.showingMilitaryTime=!0,e.timeFormat="HH:mm:ss")},d.toggleMilitaryDate=function(){e.showingMilitaryDate?(e.showingMilitaryDate=!1,e.dateFormat="EEEE MMMM dd, yyyy"):(e.showingMilitaryDate=!0,e.dateFormat="EEEE dd MMMM yyyy")},c()}angular.module("Serenity.Clock").service("ClockService",["$interval",a])}(),function(){function a(){function a(a){var b=parseInt(a/36e5);return 10>b?"0"+b:b}function b(a){var b=parseInt(a/6e4%60);return 10>b?"0"+b:b}function c(a){var b=parseInt(a/1e3%60);return 10>b?"0"+b:b}function d(a){var b=parseInt(a%1e3);return 10>b?"00"+b:100>b?"0"+b:b}return function(e,f){var g=f;return g=g.replace("hh",a(e)),g=g.replace("mm",b(e)),g=g.replace("ss",c(e)),g=g.replace("ms",d(e))}}angular.module("Serenity.Filter").filter("time",a)}(),function(){function a(){function a(a,b){a.countdown=b.getCountdown(),a.getPercentageCountdownRemaining=b.getPercentageCountdownRemaining}return{restrict:"A",templateUrl:"modules/countdown/countdown-bar.html",controller:["$scope","CountdownService",a],scope:{showTime:"="}}}angular.module("Serenity.Countdown").directive("countdownBar",a)}(),function(){function a(a,b){function c(){a.countdown=b.getCountdown()}a.toggleCountdown=b.toggleCountdown,a.resetCountdown=b.resetCountdown,a.setCountdownTimer=b.setCountdownTimer,a.getPercentageCountdownRemaining=b.getPercentageCountdownRemaining,c()}angular.module("Serenity.Countdown").controller("CountdownController",["$scope","CountdownService",a])}(),function(){function a(a){function b(a){return-1!==a.indexOf("h")||-1!==a.indexOf("m")||-1!==a.indexOf("s")}function c(a){var b=a.match(/[0-9]+[a-z]/gi),c=0;return angular.forEach(b,function(a){-1!==a.indexOf("h")?c+=36e5*Number(a.slice(0,-1)):-1!==a.indexOf("m")?c+=6e4*Number(a.slice(0,-1)):a.indexOf(!0)&&(c+=Number(1e3*a.slice(0,-1)))}),c}function d(){if(f.counting){var b=new Date,c=b.getTime()-f.timestampCountingStarted.getTime();f.timeRemainingInMs-c<=0?(e.stopCountdown(),f.timeRemainingInMs=0,f.finished=!0,f.alertInterval=a(function(){f.alert=!f.alert},f.alertPulseInMs)):(f.timeRemainingInMs-=c,f.timestampCountingStarted=b)}}var e=this,f={timestampCountingStarted:null,countdownTimerInMs:0,inputTime:"25m",timeRemainingInMs:0,counting:!1,countdownInterval:null,finished:!1,alert:!1,alertInterval:null,alertPulseInMs:500};e.getCountdown=function(){return f},e.setCountdownTimer=function(a){var d=null;b(a)&&(d=c(a)),f.countdownTimerInMs=d,e.resetCountdown()},e.startCountdown=function(){f.counting=!0,f.timestampCountingStarted=new Date,f.countingInterval=a(function(){d()},50)},e.stopCountdown=function(){f.counting=!1,a.cancel(f.countingInterval),f.timestampCountingStarted=null},e.resetCountdown=function(){f.timeRemainingInMs=f.countdownTimerInMs,f.finished=!1,f.alert=!1,a.cancel(f.alertInterval)},e.toggleCountdown=function(){f.counting?e.stopCountdown():0===f.timeRemainingInMs?e.resetCountdown():e.startCountdown()},e.getPercentageCountdownRemaining=function(){return f.countdownTimerInMs?100*(f.timeRemainingInMs/f.countdownTimerInMs).toFixed(2):0},e.setCountdownTimer(f.inputTime)}angular.module("Serenity.Countdown").service("CountdownService",["$interval",a])}(),function(){function a(a,b){function c(){b(function(){a.animating=!0},10)}c()}angular.module("Serenity.Splash").controller("SplashController",["$scope","$timeout",a])}(),function(){function a(a,b){function c(){a.stopwatch=b.getStopwatch(),a.splits=b.getSplits()}a.startStopwatch=b.startStopwatch,a.stopStopwatch=b.stopStopwatch,a.recordSplit=b.recordSplit,a.toggleStopwatch=b.toggleStopwatch,a.resetStopwatch=b.resetStopwatch,c()}angular.module("Serenity.Stopwatch").controller("StopwatchController",["$scope","StopwatchService",a])}(),function(){function a(a){function b(){if(e.tracking){var a=new Date,b=a.getTime()-e.timestampTrackingStarted.getTime();e.timeTrackedInMs+=b,e.timestampTrackingStarted=a}}var c=this,d=[],e={timeTrackedInMs:0,timestampTrackingStarted:null,tracking:!1,trackingInterval:null};c.getStopwatch=function(){return e},c.startStopwatch=function(){c.stopStopwatch(),e.tracking=!0,e.timestampTrackingStarted=new Date,e.trackingInterval=a(function(){b()},50)},c.resetStopwatch=function(){e.timeTrackedInMs=0,d.length=0},c.stopStopwatch=function(){b(),e.tracking=!1,a.cancel(e.trackingInterval),e.timestampTrackingStarted=null},c.toggleStopwatch=function(){e.tracking?c.stopStopwatch():c.startStopwatch()},c.getSplits=function(){return d},c.recordSplit=function(){if(e.tracking){b();var a={timestamp:new Date,timeTrackedInMs:e.timeTrackedInMs};d.push(a)}}}angular.module("Serenity.Stopwatch").service("StopwatchService",["$interval",a])}(),function(){angular.module("Serenity",["ui.router","ui.bootstrap","Serenity.Filter","Serenity.Stopwatch","Serenity.Countdown","Serenity.Clock","Serenity.Splash"]),angular.module("Serenity").constant("applicationName","Serenity").constant("versionNumber","v0.0.1"),angular.module("Serenity").controller("AppCtrl",["$scope","$interval",function(a,b){}])}();